@quantum
@adjoint
function measure_hadamard(qubit q) -> bit {
    h(q);
    return measure q;
}

function main() -> void {
    qubit q;
    
    @tracked bit b = measure_hadamard(q);
    echo(b);
}